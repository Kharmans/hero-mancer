/* ==========================================================================
  Settings Pages
  ========================================================================== */

/* Customization */
.hm-app .hm-app-tab-content .input-35,
.hm-app .hm-app-tab-content color-picker {
  display: flex;
  flex: 1;
  max-width: 35%;
}

.hm-app .hm-app-tab-content color-picker input[type='text'] {
  flex: 1;
  width: 100%;
  max-width: 100%;
}

.hm-app .hm-app-tab-content color-picker input[type='color'] {
  width: 30px;
  min-width: 30px;
  max-width: 35%;
}

/* Ring effects */
.hm-app .hm-app-tab-content .ring-effects {
  display: flex;
  flex-wrap: wrap;
}

.hm-app .hm-app-tab-content .ring-effects .checkbox-label {
  width: calc(100% - 120px);
  margin-left: 0;
  padding-left: 0.313rem;
}

/* Customization Application */
.customization-application .form-group,
.customization-application .form-group .form-group,
.customization-application .form-group .flex.items-center {
  gap: unset;
  width: 100%;
}

.customization-application .form-group .flex.items-center .form-input {
  gap: unset;
  width: 100%;
  max-width: 100%;
}

.customization-application .flex.items-center button.file-picker {
  aspect-ratio: 1/1;
  display: flex;
  justify-content: center;
  align-items: center;
  width: auto;
  height: 100%;
  margin-left: 5px;
}

.customization-application .flex.items-center button.file-picker i {
  margin: 0;
}

/* Popup sections */
.hm-compendiums-popup-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 10px 0;
}

.hm-compendiums-popup-section p {
  flex: 1;
  margin: 0;
}

.hm-compendiums-popup-section button {
  width: auto;
  margin-left: 10px;
  white-space: nowrap;
}

/* Compendium footers */
.hm-compendiums-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 1rem;
}

.hm-compendiums-footer-actions {
  gap: 0.625rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 50%;
}

/* Dialog styling */
.hm-compendiums-popup-dialog .dialog-content,
.hm-compendiums-popup-dialog .window-content form {
  height: fit-content;
  padding: 0.5rem;
  overflow: auto;
}

.hm-compendiums-popup-dialog .window-content {
  min-width: 260px;
  max-width: 520px;
  height: fit-content;
  min-height: 300px;
  max-height: calc(100vh - 200px);
}

/* Multi-checkbox layout */
.hm-compendiums-popup-dialog multi-checkbox {
  display: block;
  max-height: calc(50vh - 100px);
  padding-right: 0.5rem;
  overflow-y: auto;
}

.hm-compendiums-popup-dialog multi-checkbox label.checkbox {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  padding: 0.25rem 0;
}

.hm-compendiums-popup-dialog multi-checkbox label.checkbox input[type='checkbox'] {
  order: 1;
  margin-left: 10px;
}

/* Compendium groups */
.hm-compendium-groups {
  overflow-y: auto;
}

.hm-compendium-global-header {
  font-weight: bold;
}

.hm-compendium-group-header {
  padding: 0.1rem 0.5rem;
  font-weight: bold;
}

.hm-compendium-group-items {
  display: flex;
  flex-direction: column;
  margin-left: 1.5rem;
}

.hm-compendium-group .hm-compendium-group-items .hm-compendium-item {
  margin: 0.1rem;
  padding: 0;
}

/* ==========================================================================
  Troubleshooter
  ========================================================================== */

.hm-troubleshooter-container textarea {
  width: 100%;
  margin-bottom: 10px;
  overflow-x: hidden;
  font-size: var(--font-size-12);
  font-family: monospace;
  white-space: pre-wrap;
  resize: none;
}

.troubleshooter-buttons {
  gap: 0.625rem;
  display: flex;
  justify-content: center;
}

.troubleshooter-buttons button {
  gap: 0.313rem;
  display: flex;
  align-items: center;
}

/* ==========================================================================
  Mandatory Fields and Validation
  ========================================================================== */

/* Mandatory fields popup */
.hm-mandatory-fields-popup {
  gap: 0.625rem;
  display: flex;
  flex-direction: column;
  max-height: 70vh;
  padding: 0.625rem;
}

.hm-mandatory-fields-popup .fields-container {
  padding-right: 0.625rem;
  overflow-y: auto;
}

.hm-mandatory-fields-popup .field-group {
  padding: 0.625rem;
  border-radius: var(--border-radius-md);
}

.hm-mandatory-fields-popup .field-group h3 {
  padding-bottom: 0.313rem;
  font-weight: bold;
}

.hm-mandatory-fields-popup .field-group h4 {
  margin: 5px 0;
  font-size: 1rem;
}

.hm-mandatory-fields-popup .form-group {
  gap: unset;
  margin: 5px 0;
  padding-left: 0.625rem;
}

.hm-mandatory-fields-popup .form-group label {
  line-height: unset;
}

.hm-mandatory-fields-popup label {
  gap: 0.5rem;
  display: flex;
  align-items: center;
}

.hm-mandatory-fields-popup input[type='checkbox'] {
  margin: 0;
}

.mandatory-indicator {
  display: inline-flex;
  flex-shrink: 0;
  justify-content: center;
  align-items: center;
  margin-right: 0.25rem;
  font-size: 0.9rem;
}

.mandatory-indicator.complete {
  color: #4cae4f;
  text-shadow: 0 0 8px #4cae4f80;
}

.mandatory-indicator.incomplete {
  color: #ff6b6b;
  text-shadow: 0 0 8px #ff6b6b80;
}

/* Field validation styling */
.form-row > label,
.art-selection-row > label,
.customization-row > label,
.ability-block > span.ability-label,
.ability-block > label,
.form-group > label,
.trait-group > label,
.personality-group > label,
.description-group > label,
.notes-group > label,
.notes-section > h3 {
  gap: 0.5rem;
  display: flex;
  position: relative;
  align-items: center;
  margin-top: 0.5rem;
}

.notes-section:has(prose-mirror.mandatory-field) > h3 {
  gap: 0.5rem;
  display: flex;
  position: relative;
  align-items: center;
}

/* Dice Rolling popup */
.hm-dice-rolling-popup .form-group {
  gap: unset;
}
